 # フォーミュラモード

::: tip SUMMARY
- Workatoでフォーミュラを使用するには、フィールドレベルでフォーミュラモードをアクティブにする必要があります。
- フォーミュラモードでは、データ操作のための承認済みのフォーミュラとガイダンスが提供されます。
- エディタは、入力フィールド内のデータピルのタイプに基づいて、タイプ固有のフォーミュラを表示します。
- テキストモードとは異なり、フォーミュラモードではテキストを明示的にフォーマットする必要があります。
:::

フォーミュラを使用するには、フォーミュラモードに入る必要があります。フォーミュラモードは、フィールドレベルでオンにする必要があり、ほとんどの入力フィールドでフォーミュラモードがサポートされています。

テキストモードからフォーミュラモードに切り替えるには、入力フィールドの右上にある **formula** をクリックします。これにより、背景色が変わり、フォーミュラモードであることが示されます。左側のタイプアイコンも `fx` アイコンに変わります。

![Formula mode](~@img/formula-docs/formula-mode.png)
_フォーミュラモードは `fx` シンボルで表示されます_

入力フィールドがフォーミュラモードに切り替わると、文字列タイプの入力フィールドのアイコンが文字列タイプから `formulas` タイプに変わります。

フォーミュラモードでは、データ変換/操作に使用できる許可されたフォーミュラのセットが提供され、これらのフォーミュラの使用方法に関する追加のヘルプも提供されます。

## データタイプによるフォーミュラのフィルタリング
フォーミュラエディタは、データピルに対してタイプ固有のフォーミュラを表示します。さまざまなデータピルのタイプについては、[この記事](/recipes/data-pills-and-mapping.md)を参照してください。

文字列タイプのデータピルがフォーミュラモードの入力フィールドにドロップされると、エディタには文字列に適用可能なフォーミュラのリストが表示されます。

![String formula list](~@img/formula-docs/string-formula-list.png)
*文字列のフォーミュラのリストを表示するフォーミュラエディタ*

## フォーミュラのヒントと構文
フォーミュラが選択されると、フォーミュラの詳細な説明が表示されます。これには、このフォーミュラの使用方法の説明や使用例が含まれます。

![Formula editor hint](~@img/formula-docs/formula-editor-hint.png)
*splitフォーミュラの詳細な説明とヒント*

## テキストモードとフォーミュラモード
::: details 動画ガイド：テキストからフォーミュラモードへ
<Video src="https://www.youtube.com/embed/e2vt8x5mHdM"/>
:::

テキストモードでは、テキストやピルを入力フィールドに簡単にマッピングすることができ、形成されるテキストはそのまま表示されます。一方、フォーミュラモードでは、テキストを明示的にフォーマットする必要があります。

Salesforceで新しいリードにメールを送信するレシピの例を使用して説明します。新しいリードの名前がMadison Diazの場合、次のメールを送信したいとします。

```
Hi Madison,

Thanks for joining our mailing list! We're excited to have you!
```

テキストモードでは、**メッセージ**は次のように簡単に形成できます。

![Welcome email in text mode](~@img/formula-docs/welcome-email-in-text.png)
*テキストモードのメール。[サンプルレシピ](https://www.workato.com/recipes/504766)*

一方、フォーミュラモードでは、テキストを適切な文字列構文で指定する必要があります。

![Welcome email in formula mode](~@img/formula-docs/welcome-email-in- formula.png)
*メールの数式モード。[サンプルレシピ](https://www.workato.com/recipes/496603)*